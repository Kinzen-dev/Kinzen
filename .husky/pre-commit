echo "ğŸ” Running pre-commit checks..."

# Run linting for both frontend and backend
echo "ğŸ“ Running linters..."
npm run lint
if [ $? -ne 0 ]; then
  echo "âŒ Linting failed. Please fix the issues before committing."
  exit 1
fi

# Run type checking for frontend
echo "ğŸ”§ Running type checks..."
cd frontend && npm run type-check
if [ $? -ne 0 ]; then
  echo "âŒ Type checking failed. Please fix the issues before committing."
  exit 1
fi
cd ..

# Run tests for backend only (frontend has no tests yet)
echo "ğŸ§ª Running backend tests..."
cd backend && npm run test
if [ $? -ne 0 ]; then
  echo "âŒ Backend tests failed. Please fix the issues before committing."
  exit 1
fi
cd ..

echo "âœ… All pre-commit checks passed!"
